<div id="rooms" ng-controller="RoomCtrl">

    <form ng-submit="save()">
        <table class="table table-hover">
            <tr>
                <th width="15%">Room number</th>
                <th width="15%">Number of beds</th>
                <th width="10%">Smoking</th>
                <th width="15%">Sea view</th>
                <th width="20%">Price/night</th>
                <th width="25%" style="text-align: center">
                    <button class="btn btn-primary" ng-click="new()" ng-if="!editedRoom">New room</button>
                </th>
            </tr>
            <tr ng-repeat="room in rooms" height="60">
                <td ng-if="!editedRoom || editedRoom.id != room.id">{{room.number}}</td>
                <td ng-if="!editedRoom || editedRoom.id != room.id">{{room.numberOfBeds}}</td>
                <td ng-if="!editedRoom || editedRoom.id != room.id">{{room.smoking ? 'yes' : 'no'}}</td>
                <td ng-if="!editedRoom || editedRoom.id != room.id">{{room.seaView ? 'yes' : 'no'}}</td>
                <td ng-if="!editedRoom || editedRoom.id != room.id">{{room.pricePerNight}} CHF</td>
                <td ng-if="!editedRoom || editedRoom.id != room.id" style="text-align: center">
                    <button ng-if="!editedRoom" class="btn btn-primary" ng-click="edit(room)">Edit</button>
                </td>

                <td ng-if="editedRoom && editedRoom.id == room.id"><input ng-model="editedRoom.number" class="form-control"/></td>
                <td ng-if="editedRoom && editedRoom.id == room.id">
                    <input ng-model="editedRoom.numberOfBeds" class="form-control" type="number" min="1"/>
                </td>
                <td ng-if="editedRoom && editedRoom.id == room.id"><input ng-model="editedRoom.smoking" type="checkbox"/></td>
                <td ng-if="editedRoom && editedRoom.id == room.id"><input ng-model="editedRoom.seaView" type="checkbox"/></td>
                <td ng-if="editedRoom && editedRoom.id == room.id" class="form-inline">
                    <input ng-model="editedRoom.pricePerNight" size="10" class="form-control"/> CHF</td>
                <td ng-if="editedRoom && editedRoom.id == room.id">
                    <button class="btn btn-primary">Save</button>
                    <button class="btn btn-default" ng-click="cancel()">Cancel</button>
                </td>

            </tr>
            <tr ng-show="!rooms.length">
                <td colspan="6" align="center">No results</td>
            </tr>
        </table>
    </form>
</div>
